---
import { cva } from 'class-variance-authority'

const buttonWrapper = cva('button-primary-border whitespace-nowrap text-sm', {
  variants: {
    variant: {
      primary: 'bg-primary text-dark',
      outline: 'bg-primary text-primary',
    },
  },
})

const buttonText = cva(
  'button-primary-text relative uppercase transition-colors duration-300',
  {
    variants: {
      variant: {
        primary: 'group-hover:bg-lightgrey bg-primary',
        outline: 'group-hover:bg-primary bg-lightgrey group-hover:text-dark',
      },
    },
  },
)

interface ButtonProps {
  variant?: 'primary' | 'outline'
}

const { variant = 'primary' }: ButtonProps = Astro.props
---

<a
  href="/contact"
  class="filter-[url(#rounded-corners)] group relative inline-block text-center leading-snug"
>
  <div class={buttonWrapper({ variant })}>
    <div scramble-text class={buttonText({ variant })}>
      <slot />
    </div>
  </div>
</a>

<style>
  .button-primary-border,
  .button-primary-text {
    -webkit-clip-path: polygon(
      10px 0,
      100% 0,
      100% calc(100% - 10px),
      calc(100% - 10px) 100%,
      0 100%,
      0 10px
    );
    clip-path: polygon(
      10px 0,
      100% 0,
      100% calc(100% - 10px),
      calc(100% - 10px) 100%,
      0 100%,
      0 10px
    );
    padding: 1.5px;
  }

  .button-primary-text {
    padding: 0.6rem 1.5rem;
  }
</style>
