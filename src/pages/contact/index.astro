---
import Layout from '@/layouts/Layout.astro'
import Blade from '@/assets/blade.svg'
import ContactForm from '@/sections/ContactForm'
import OneIcon from '@/assets/one.svg'
---

<Layout title="Cuentame tu idea">
  <!-- Heading -->
  <div class="border-b-grey relative border-b grid">
    <div class="relative inline-flex overflow-hidden whitespace-nowrap" data-slider>
      <h1
        data-slider-content
        aria-label="Yangua Ruiz Samir Kenyi"
        class="font-secondary 2md:text-[14vw] inline-block flex-none whitespace-nowrap px-6 text-[16vw] tracking-tighter"
      >
        CONTACTAME
      </h1>
    </div>

    <Blade class="absolute bottom-0 right-full" />
  </div>

  <div class="relative grid grid-cols-[1fr_1fr_2fr]">
    <div></div>

    <div class="p-10">
      <OneIcon class="h-auto w-24" />
      <p class="text-base text-dark-60 leading-tight mt-4">
        Rellena este breve formulario para contactar&nbsp;conmigo
      </p>
    </div>

    <div class="bg-lightgrey mx-[1.5px] p-10">
      <ContactForm client:load />
    </div>
  </div>
</Layout>

<script>
  import createInfiniteSlider from '@/lib/create-infinite-slider'
  import { $ } from '@/lib/dom-selector'

  const slider = $('[data-slider]') as HTMLElement
  const sliderContent = slider?.firstElementChild as HTMLElement
  createInfiniteSlider({ slider, sliderContent })
</script>
